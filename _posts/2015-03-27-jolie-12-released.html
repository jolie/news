---
layout: post
title: Jolie 1.2 released
date: '2015-03-27T00:02:00.001+01:00'
author: fm
tags:
- release
- jolie
modified_time: '2015-03-27T00:02:51.324+01:00'
blogger_id: tag:blogger.com,1999:blog-3824614534367079729.post-9215765849826012741
blogger_orig_url: https://jolie-lang.blogspot.com/2015/03/jolie-12-released.html
---

Jolie 1.2 has been&nbsp;<a href="http://www.jolie-lang.org/downloads.html">released</a>. This release brings many important feature, stability, and performance enhancements.<br /><br /><h2>Performance</h2><div>Jolie 1.2 comes with many performance improvements. Early tests (some of which performed on the Jolie website itself) show an increase in throughput of up to 100% in scenarios with heavy loads, thanks to the following changes:</div><div><ul><li>Jolie processes are now executed over a virtualisation layer that runs them using a cache of parallel workers.</li><li>Many synchronisation locks on data structures have been made more granular, reducing lock retention among processes.</li><li>Improvements to the networking stack, including multiple concurrent selectors (as in, e.g., <a href="https://grizzly.java.net/">Project Grizzly</a>), better usage of I/O streams, and buffer caching.</li></ul><div><br /></div><h2>Language Features</h2></div><h3>Inline trees</h3><div>Jolie now supports inline trees as a new form of expression. For example, the following series of assignments</div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">x.a = 1;</span></div><div><span style="font-family: Courier New, Courier, monospace;">x.b = 2;</span></div><div><span style="font-family: Courier New, Courier, monospace;">x.c[0] = 3;</span></div><div><span style="font-family: Courier New, Courier, monospace;">x.c[1] = 4</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: inherit;">can now be simply written as:</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">x &lt;&lt; { .a = 1, .b = 2, .c[0] = 3, .c[1] = 4 }</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: inherit;">Since they are expressions, inline trees can be used as parameters for operation invocations, for example:</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">query@Database</span><span style="font-family: 'Courier New', Courier, monospace;">(</span></div><div><span style="font-family: 'Courier New', Courier, monospace;">&nbsp; &nbsp; "select * from users where id = :id" { .id = 5 }</span></div><div><span style="font-family: 'Courier New', Courier, monospace;">)(</span><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;result )</span></div><h3><br /></h3><h3>Provide-until choices (experimental)</h3><div>Provide-until choices have been introduced as a useful way of providing a series of operations until another certain operation is invoked. For example, the following code make the operations read and write available until either the operation logout or timeout is invoked.</div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">provide</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; [ read(request)(response) { response = /* ... */ } ]</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; [ write(request) ] { /* ... */ }</span></div><div><span style="font-family: Courier New, Courier, monospace;">until</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; [ logout() ]</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; [ timeout() ]</span></div><div><br /></div><div>Provide-until blocks are still experimental and will likely be improved in the future.</div><div><br /></div><h3>Branch code for input choices now optional</h3><div>The code of a branch in an input choice can now be omitted, implicitly meaning that it is empty (nullProcess). For example, the following code</div><div><br /></div><div><div><span style="font-family: Courier New, Courier, monospace;">[ logout() ] { nullProcess }</span></div><div><span style="font-family: Courier New, Courier, monospace;">[ timeout() ] { nullProcess }</span></div></div><div><br /></div><div>can now be written as:</div><div><div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Courier New, Courier, monospace;">[ logout() ]</span></div><div><span style="font-family: Courier New, Courier, monospace;">[ timeout() ]</span></div></div></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><h2>Framework Improvements</h2><br /><ul><li><span style="background-color: white; color: #222222; font-family: inherit;">Full character set enforcement in all parts of Jolie (important for multiplatform environments).</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">Predefined charset UTF-8 for XML-RPC, SOAP, JSON-RPC protocols.</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">Customisable charset for HTTP and SODEP protcols (default remains UTF-8) and the I/O&nbsp; services (FileService, IniUtils).</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">--charset parameter to parse Jolie programs in encodings different from the system default.</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">Introduction of the new Converter service (base64 conversion, charset conversion).</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">Major HTTP protocol improvements (HEAD request, better chunked-mode parsing, correct URI/URL handling).</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">Fixed use of file paths containing blanks.</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">JSON parser fixes (nested arrays).</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">Some DatabaseService improvements (new close() call, error handling).</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">Fixes to the UNIX domain sockets support ("localsockets" medium).</span></li><li><span style="background-color: white; color: #222222; font-family: inherit;">XML-RPC protocol improvements (e.g., base64 support).</span></li><li><span style="font-family: inherit;">Fixed execution of sequential processes.</span></li><li><span style="font-family: inherit;">The SemanticVerifier component now reports errors correctly.</span></li><li><span style="font-family: inherit;">Introduction of a new experimental Reflection service for language reflection.</span></li></ul>